<div class="container">
  <ng-container *ngIf="(workshop$ | async) === undefined; else workshopTabs">
    <mat-card [class]="containerClass$|async">
      <app-admin-workshop-details-form [workshop]="workshop$ | async"></app-admin-workshop-details-form>
    </mat-card>
  </ng-container>


  <ng-template #workshopTabs>
    <mat-tab-group mat-stretch-tabs dynamicHeight [class]="containerClass$|async" class="mat-elevation-z4">
      <mat-tab label="Details">
        <div class="tab">
          <ng-template matTabContent>
            <app-admin-workshop-details-form [workshop]="workshop$ | async"></app-admin-workshop-details-form>
          </ng-template>
        </div>
      </mat-tab>

      <mat-tab label="Poster">
        <div class="tab">
          <ng-template matTabContent>
            <app-admin-workshop-change-poster [workshop$]="workshop$"></app-admin-workshop-change-poster>
          </ng-template>
        </div>
      </mat-tab>

      <mat-tab label="Promotion">
        <div class="tab">
          <ng-template matTabContent>
            <app-admin-workshop-promotion [workshopID]="(workshop$ | async)?.id || null"></app-admin-workshop-promotion>
          </ng-template>
        </div>
      </mat-tab>

      <mat-tab label="Email">
        <div class="tab">
          <ng-template matTabContent>
            <app-admin-workshop-message [workshop]="workshop$ | async"></app-admin-workshop-message>
          </ng-template>
        </div>
      </mat-tab>

      <mat-tab label="Stats">
        <div class="tab">
          <ng-template matTabContent>
            <p>Registered Users: {{(stats$ | async)?.users || 0}}/{{(stats$ | async)?.totalUsers || 0}}.</p>
            <p>Consents for emails: {{(stats$ | async)?.consents || 0}}/{{(stats$ | async)?.users || 0}}.</p>
          </ng-template>
         </div>
      </mat-tab>
    </mat-tab-group>
  </ng-template>
</div>
